<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222">


  <link rel="apple-touch-icon" sizes="180x180" href="/blog/uploads/images/gt.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/blog/uploads/images/gt-32.jpg">
  <link rel="icon" type="image/png" sizes="16x16" href="/blog/uploads/images/gt-16.jpg">
  <link rel="mask-icon" href="/blog/uploads/images/logo.png" color="#222">

<link rel="stylesheet" href="/blog/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css" integrity="sha256-DfWjNxDkM94fVBWx1H5BMMp0Zq7luBlV8QRcSES7s+0=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/themes/blue/pace-theme-minimal.css">
  <script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous"></script>

<script class="next-config" data-name="main" type="application/json">{"hostname":"github.com","root":"/blog/","images":"/blog/images","scheme":"Gemini","darkmode":false,"version":"8.11.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/blog/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/blog/js/config.js"></script>



<link rel="canonical" href="https://github.com/maxzhao-it/blog/page/20/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"en","comments":"","permalink":"","path":"page/20/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>maxzhao</title>
  





  <noscript>
    <link rel="stylesheet" href="/blog/css/noscript.css">
  </noscript>
<link rel="alternate" href="/blog/atom.xml" title="maxzhao" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/blog/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">maxzhao</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">不要害怕Exception和Error</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/blog/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-about"><a href="/blog/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a></li><li class="menu-item menu-item-tags"><a href="/blog/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a></li><li class="menu-item menu-item-categories"><a href="/blog/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-archives"><a href="/blog/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li><li class="menu-item menu-item-schedule"><a href="/blog/schedule/" rel="section"><i class="fa fa-calendar fa-fw"></i>Schedule</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="赵联胜"
      src="/blog/uploads/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">赵联胜</p>
  <div class="site-description" itemprop="description">小码农赵联胜的博客,从遇到Java到爱上Java，工作之余学习Java生态圈中的各种技术。</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/blog/archives/">
          <span class="site-state-item-count">333</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/blog/categories/">
        <span class="site-state-item-count">154</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/blog/tags/">
        <span class="site-state-item-count">185</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://gitee.com/zhaoliansheng" title="GitHub → https:&#x2F;&#x2F;gitee.com&#x2F;zhaoliansheng" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="/blog/1441439636@qq.com" title="E-Mail → 1441439636@qq.com"><i class="fa fa-envelope fa-fw"></i></a>
      </span>
  </div>


  <div class="links-of-blogroll site-overview-item animated">
    <div class="links-of-blogroll-title"><i class="fa fa-globe fa-fw"></i>
      友情链接
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://www.jianshu.com/u/e8c426a6007e" title="https:&#x2F;&#x2F;www.jianshu.com&#x2F;u&#x2F;e8c426a6007e" rel="noopener" target="_blank">我的简书</a>
        </li>
    </ul>
  </div>

        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://github.com/maxzhao-it/blog/post/34489/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/uploads/images/avatar.jpg">
      <meta itemprop="name" content="赵联胜">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="maxzhao">
      <meta itemprop="description" content="小码农赵联胜的博客,从遇到Java到爱上Java，工作之余学习Java生态圈中的各种技术。">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | maxzhao">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/blog/post/34489/" class="post-title-link" itemprop="url">KafkaConnect导入导出数据</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2022-07-04 14:50:22" itemprop="dateModified" datetime="2022-07-04T14:50:22+08:00">2022-07-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/DevelopTools/" itemprop="url" rel="index"><span itemprop="name">DevelopTools</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/DevelopTools/kafka/" itemprop="url" rel="index"><span itemprop="name">kafka</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="一、Kafka-Connect-导入-x2F-导出-数据"><a href="#一、Kafka-Connect-导入-x2F-导出-数据" class="headerlink" title="一、Kafka Connect 导入&#x2F;导出 数据"></a>一、Kafka Connect 导入&#x2F;导出 数据</h2><p>从控制台写入和写回数据是一个方便的开始，但你可能想要从其他来源导入或导出数据到其他系统。对于大多数系统，可以使用<code>kafka Connect</code>，而不需要编写自定义集成代码。</p>
<p><code>Kafka Connect</code>是导入和导出数据的一个工具。是一个在 <code>kafka</code>与其他系统之间的可扩展和可靠的流数据工具。它使得快速定义连接器变得非常简单，这些连接器可以将大量数据移入和移出<code>Kafka</code>。<code>Kafka Connect</code><br>可以摄取整个数据库或者从你所有的应用服务器上收集指标到Kafka主题中，使数据可以用于低延迟的流处理。导出作业可以将数据从<code>Kafka</code>主题交付到二级存储和查询系统，或者交付到批处理系统以进行离线分析。</p>
<h3 id="Kafka-Connect功能包括"><a href="#Kafka-Connect功能包括" class="headerlink" title="Kafka Connect功能包括:"></a>Kafka Connect功能包括:</h3><ul>
<li>Kafka Connect是Kafka连接器的通用框架——Kafka Connect标准化了其他数据系统与Kafka的集成，简化了连接器的开发、部署和管理</li>
<li>分布式和独立模式——向上扩展到支持整个组织的大型集中管理服务，或者向下扩展到开发、测试和小型生产部署</li>
<li>通过一个易于使用的REST API向Kafka Connect集群提交和管理连接器</li>
<li>自动偏移量管理——Kafka Connect可以自动管理偏移量提交过程，所以连接器开发人员不需要担心连接器开发中这个容易出错的部分</li>
<li>Kafka Connect建立在现有的组管理协议上。可以添加更多的worker来扩展Kafka Connect集群。</li>
<li>流&#x2F;批处理集成-利用Kafka现有的功能，Kafka Connect是一个理想的解决方案桥接流和批处理数据系统</li>
</ul>
<p>一些概念</p>
<ul>
<li><p><code>kafka connector</code>:是<code>kafka connect</code>的关键组成部分，它是一个逻辑上的job,用于在kafka和其他系统之间拷贝数据,比如：从上游系统拷贝数据到kafka,或者从kafka拷贝数据到下游系统</p>
</li>
<li><p>Tasks:每个<code>kafka connector</code>可以初始化一组task进行数据的拷贝</p>
</li>
<li><p>Workers:逻辑上包含<code>kafka connector</code>和tasks用来调度执行具体任务的进程,具体执行时分为standalone模式和distributed模式</p>
</li>
</ul>
<p>​</p>
<p>下面介绍配置、运行和管理Kafka Connect。</p>
<h2 id="二、运行-Kafka-Connect"><a href="#二、运行-Kafka-Connect" class="headerlink" title="二、运行 Kafka Connect"></a>二、运行 Kafka Connect</h2><p>Kafka Connect目前支持两种执行模式:单机(单进程)和分布式。</p>
<p>在独立模式下，所有工作都在单个进程中执行。这种配置更容易设置和开始，可能在只有一个worker有意义的情况下有用(例如收集日志文件)，但它没有从Kafka Connect的一些特性中受益，比如容错。可以使用如下命令启动独立进程:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bin/connect-standalone.sh config/connect-standalone.properties connector1.properties [connector2.properties ...]</span><br></pre></td></tr></table></figure>

<h3 id="单例配置"><a href="#单例配置" class="headerlink" title="单例配置"></a>单例配置</h3><p>配置文件在 <code>config/connect-standalone.properties</code></p>
<p>首先是Kafka Connect处理的配置，包含常见的配置，例如要连接的Kafka broker和数据的序列化格式。其余的配置文件都指定了要创建的连接器。包括连接器唯一名称，和要实例化的连接器类。以及连接器所需的任何其他配置。</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 连接器的唯一名称。再次尝试注册相同名称将会失败。</span></span><br><span class="line"><span class="attr">nname</span></span><br><span class="line"><span class="comment"># kafka 服务器地址</span></span><br><span class="line"><span class="attr">bootstrap.servers</span>=<span class="string">localhost:9092</span></span><br><span class="line"><span class="comment"># 唯一的字符串，用于标识此worker所属的Connect集群组。</span></span><br><span class="line"><span class="comment"># group.id=</span></span><br><span class="line"><span class="comment"># 用于在Kafka连接格式和写入Kafka的序列化格式之间转换的转换器类。</span></span><br><span class="line"><span class="comment"># 控制了从Kafka写入或读取的消息中的键的格式，并且由于它独立于连接器，它允许任何连接器使用任何序列化格式。常见的格式包括JSON和Avro。</span></span><br><span class="line"><span class="attr">key.converter</span>=<span class="string">org.apache.kafka.connect.json.JsonConverter</span></span><br><span class="line"><span class="comment"># 控制了写入或从Kafka读取的消息中的值的格式，并且由于它独立于连接器，它允许任何连接器使用任何序列化格式。常见的格式包括JSON和Avro。</span></span><br><span class="line"><span class="attr">value.converter</span>=<span class="string">org.apache.kafka.connect.json.JsonConverter</span></span><br><span class="line"><span class="comment"># Converter-specific settings can be passed in by prefixing the Converter&#x27;s setting with the converter we want to apply</span></span><br><span class="line"><span class="comment"># it to</span></span><br><span class="line"><span class="attr">key.converter.schemas.enable</span>=<span class="string">true</span></span><br><span class="line"><span class="attr">value.converter.schemas.enable</span>=<span class="string">true</span></span><br><span class="line"><span class="comment"># 用逗号分隔的主题列表，用作此连接器的输入的话题</span></span><br><span class="line"><span class="comment"># topics</span></span><br><span class="line"><span class="comment"># 主题的Java正则表达式，用作此连接器的输入对于任何其他选项，您应该查阅连接器的文档。</span></span><br><span class="line"><span class="comment"># topics.regex=</span></span><br><span class="line"><span class="comment"># kafka topic仓库配置,需要手动创建主题，以确保正确配置 default connect-configs</span></span><br><span class="line"><span class="comment"># config.storage.topic</span></span><br><span class="line"><span class="attr">offset.storage.file.filename</span>=<span class="string">/tmp/connect.offsets</span></span><br><span class="line"><span class="comment"># Flush much faster than normal, which is useful for testing/debugging</span></span><br><span class="line"><span class="attr">offset.flush.interval.ms</span>=<span class="string">10000</span></span><br></pre></td></tr></table></figure>

<h3 id="控制台操作"><a href="#控制台操作" class="headerlink" title="控制台操作"></a>控制台操作</h3><p>在这个快速入门里，我们将看到如何运行<code>Kafka Connect</code>用简单的连接器从文件导入数据到Kafka主题，再从<code>Kafka</code>主题导出数据到文件。</p>
<p>首先，我们首先创建一些种子数据用来测试：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> -e <span class="string">&quot;foo\nbar&quot;</span> &gt; test.txt</span><br></pre></td></tr></table></figure>

<p>接下来，我们开始2个连接器运行在独立的模式，这意味着它们运行在一个单一的，本地的，专用的进程。我们提供3个配置文件作为参数。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">bin/connect-standalone.sh config/connect-standalone.properties config/connect-file-source.properties config/connect-file-sink.properties</span><br><span class="line"><span class="comment"># 这是分布式的命令，暂时不考虑</span></span><br><span class="line">bin/connect-distributed.sh config/connect-distributed.properties</span><br></pre></td></tr></table></figure>

<p>这些包含在Kafka中的示例配置文件使用之前启动的默认本地群集配置，并创建两个连接器： 第一个是源连接器，用于从输入文件读取行，并将其输入到 Kafka topic。 第二个是接收器连接器，它从Kafka<br>topic中读取消息，并在输出文件中生成一行。</p>
<p>在启动过程中，你会看到一些日志消息，包括一些连接器正在实例化的指示。 一旦Kafka Connect进程启动，源连接器就开始从<code>test.txt</code>读取行并且 将它们生产到主题<code>connect-test</code><br>中，同时接收器连接器也开始从主题<code>connect-test</code>中读取消息， 并将它们写入文件<code>test.sink.txt</code>中。我们可以通过检查输出文件的内容来验证数据是否已通过整个pipeline进行交付：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">more test.sink.txt</span><br></pre></td></tr></table></figure>

<p>出现结果</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">foo</span><br><span class="line">bar</span><br></pre></td></tr></table></figure>

<p>请注意，数据存储在Kafka topic<code>connect-test</code>中，因此我们也可以运行一个console consumer（控制台消费者）来查看 topic 中的数据（或使用custom<br>consumer（自定义消费者）代码进行处理）：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bin/kafka-console-consumer.sh --bootstrap-server localhost:9092 --topic connect-test --from-beginning</span><br></pre></td></tr></table></figure>

<p>结果：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="string">&quot;schema&quot;</span>:&#123;<span class="string">&quot;type&quot;</span>:<span class="string">&quot;string&quot;</span>,<span class="string">&quot;optional&quot;</span>:<span class="literal">false</span>&#125;,<span class="string">&quot;payload&quot;</span>:<span class="string">&quot;foo&quot;</span>&#125;</span><br><span class="line">&#123;<span class="string">&quot;schema&quot;</span>:&#123;<span class="string">&quot;type&quot;</span>:<span class="string">&quot;string&quot;</span>,<span class="string">&quot;optional&quot;</span>:<span class="literal">false</span>&#125;,<span class="string">&quot;payload&quot;</span>:<span class="string">&quot;bar&quot;</span>&#125;</span><br></pre></td></tr></table></figure>

<p>连接器一直在处理数据，所以我们可以将数据添加到文件中，并看到它在pipeline 中移动：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 追加一行数据</span></span><br><span class="line"><span class="built_in">echo</span> Another line &gt;&gt; test.txt</span><br></pre></td></tr></table></figure>

<p>应该可以看到这一行出现在控制台用户输出和接收器文件中。</p>
<h2 id="三、MySql-操作"><a href="#三、MySql-操作" class="headerlink" title="三、MySql 操作"></a>三、<code>MySql</code> 操作</h2><p><a target="_blank" rel="noopener" href="https://www.pianshen.com/article/3877182847/">https://www.pianshen.com/article/3877182847/</a></p>
<h2 id="四、详细配置"><a href="#四、详细配置" class="headerlink" title="四、详细配置"></a>四、详细配置</h2><table>
<thead>
<tr>
<th>NAME</th>
<th>DESCRIPTION</th>
<th>TYPE</th>
<th>DEFAULT</th>
<th>VALID VALUES</th>
<th>IMPORTANCE</th>
</tr>
</thead>
<tbody><tr>
<td>config.storage.topic</td>
<td>kafka topic仓库配置</td>
<td>string</td>
<td></td>
<td></td>
<td>high</td>
</tr>
<tr>
<td>group.id</td>
<td>唯一的字符串，用于标识此worker所属的Connect集群组。</td>
<td>string</td>
<td></td>
<td></td>
<td>high</td>
</tr>
<tr>
<td>key.converter</td>
<td>用于Kafka Connect和写入到Kafka的序列化消息的之间格式转换的转换器类。 这可以控制写入或从kafka读取的消息中的键的格式，并且由于这与连接器无关，因此它允许任何连接器使用任何序列化格式。 常见格式的示例包括JSON和Avro。</td>
<td>class</td>
<td></td>
<td></td>
<td>high</td>
</tr>
<tr>
<td>offset.storage.topic</td>
<td>连接器的offset存储到哪个topic中</td>
<td>string</td>
<td></td>
<td></td>
<td>high</td>
</tr>
<tr>
<td>status.storage.topic</td>
<td>追踪连接器和任务状态存储到哪个topic中</td>
<td>string</td>
<td></td>
<td></td>
<td>high</td>
</tr>
<tr>
<td>value.converter</td>
<td>用于Kafka Connect格式和写入Kafka的序列化格式之间转换的转换器类。 控制了写入或从Kafka读取的消息中的值的格式，并且由于这与连接器无关，因此它允许任何连接器使用任何序列化格式。 常见格式的示例包括JSON和Avro。</td>
<td>class</td>
<td></td>
<td></td>
<td>high</td>
</tr>
<tr>
<td>internal.key.converter</td>
<td>用于在Kafka Connect格式和写入Kafka的序列化格式之间转换的转换器类。 这可以控制写入或从Kafka读取的消息中的key的格式，并且由于这与连接器无关，因此它允许任何连接器使用任何序列化格式。 常见格式的示例包括JSON和Avro。 此设置用于控制框架内部使用的记账数据的格式，例如配置和偏移量，因此用户可以使用运行各种Converter实现。</td>
<td>class</td>
<td></td>
<td></td>
<td>low</td>
</tr>
<tr>
<td>internal.value.converter</td>
<td>用于在Kafka Connect格式和写入Kafka的序列化格式之间转换的转换器类。 这控制了写入或从Kafka读取的消息中的值的格式，并且由于这与连接器无关，因此它允许任何连接器使用任何序列化格式。 常见格式的示例包括JSON和Avro。 此设置用于控制框架内部使用的记账数据的格式，例如配置和偏移量，因此用户可以使用运行各种Converter实现。</td>
<td>class</td>
<td></td>
<td></td>
<td>low</td>
</tr>
<tr>
<td>bootstrap.servers</td>
<td>用于建立与Kafka集群的初始连接的主机&#x2F;端口列表。此列表用来发现完整服务器集的初始主机。 该列表的格式应为host1：port1，host2：port2，….由于这些服务器仅用于初始连接以发现完整的集群成员资格（可能会动态更改），因此,不需要包含完整的服务器（尽管如此，你需要多配置几个，以防止配置的宕机）。</td>
<td>list</td>
<td>localhost:9092</td>
<td></td>
<td>high</td>
</tr>
<tr>
<td>heartbeat.interval.ms</td>
<td>心跳间隔时间。心跳用于确保会话保持活动，并在新成员加入或离开组时进行重新平衡。 该值必须设置为低于session.timeout.ms，但通常应设置为不高于该值的1&#x2F;3。</td>
<td>int</td>
<td>3000</td>
<td></td>
<td>high</td>
</tr>
<tr>
<td>rebalance.timeout.ms</td>
<td>限制所有组中消费者的任务处理数据和提交offset所需的时间。如果超时，那么woker将从组中删除，这也将导致offset提交失败。</td>
<td>int</td>
<td>60000</td>
<td></td>
<td>high</td>
</tr>
<tr>
<td>session.timeout.ms</td>
<td>用于察觉worker故障的超时时间。worker定时发送心跳以表明自己是活着的。如果broker在会话超时时间到期之前没有接收到心跳，那么broker将从分组中移除该worker，并启动重新平衡。注意，该值必须在<code>group.min.session.timeout.ms</code>和<code>group.max.session.timeout.ms</code>范围内。</td>
<td>int</td>
<td>10000</td>
<td></td>
<td>high</td>
</tr>
<tr>
<td>ssl.key.password</td>
<td>密钥存储文件中私钥的密码。 这对于客户端是可选的。</td>
<td>password</td>
<td>null</td>
<td></td>
<td>high</td>
</tr>
<tr>
<td>ssl.keystore.location</td>
<td>密钥存储文件的位置。 这对于客户端是可选的，可以用于客户端的双向身份验证。</td>
<td>string</td>
<td>null</td>
<td></td>
<td>high</td>
</tr>
<tr>
<td>ssl.keystore.password</td>
<td>密钥存储文件的存储密码。 客户端是可选的，只有配置了ssl.keystore.location才需要。</td>
<td>password</td>
<td>null</td>
<td></td>
<td>high</td>
</tr>
<tr>
<td>ssl.truststore.location</td>
<td>信任存储文件的位置。</td>
<td>string</td>
<td>null</td>
<td></td>
<td>high</td>
</tr>
<tr>
<td>ssl.truststore.password</td>
<td>信任存储文件的密码。</td>
<td>password</td>
<td>null</td>
<td></td>
<td>high</td>
</tr>
<tr>
<td>connections.max.idle.ms</td>
<td>多少毫秒之后关闭空闲的连接。</td>
<td>long</td>
<td>540000</td>
<td></td>
<td>medium</td>
</tr>
<tr>
<td>receive.buffer.bytes</td>
<td>读取数据时使用的TCP接收缓冲区（SO_RCVBUF）的大小。 如果值为-1，则将使用OS默认值。</td>
<td>int</td>
<td>32768</td>
<td>[0,…]</td>
<td>medium</td>
</tr>
<tr>
<td>request.timeout.ms</td>
<td>配置控制客户端等待请求响应的最长时间。 如果在超时之前未收到响应，客户端将在必要时重新发送请求，如果重试耗尽，则该请求将失败。</td>
<td>int</td>
<td>40000</td>
<td>[0,…]</td>
<td>medium</td>
</tr>
<tr>
<td>sasl.jaas.config</td>
<td>用于JAAS配置文件的SASL连接的JAAS登录上下文参数格式。<a target="_blank" rel="noopener" href="https://blog.csdn.net/zqqcometo/article/details/85089475#http://docs.oracle.com/javase/8/docs/technotes/guides/security/jgss/tutorials/LoginConfigFile.html">这里</a>描述了JAAS配置文件的格式。该值的格式为：’ (&#x3D;)*;’</td>
<td>password</td>
<td>null</td>
<td></td>
<td>medium</td>
</tr>
<tr>
<td>sasl.kerberos.service.name</td>
<td>Kafka运行的Kerberos principal名称。 可以在Kafka的JAAS配置或Kafka的配置中定义。</td>
<td>string</td>
<td>null</td>
<td></td>
<td>medium</td>
</tr>
<tr>
<td>sasl.mechanism</td>
<td>用户客户端连接的SASL机制。可以提供者任何安全机制。 GSSAPI是默认机制。</td>
<td>string</td>
<td>GSSAPI</td>
<td></td>
<td>medium</td>
</tr>
<tr>
<td>security.protocol</td>
<td>用于和broker通讯的策略。有效的值有：PLAINTEXT, SSL, SASL_PLAINTEXT, SASL_SSL。</td>
<td></td>
<td>string</td>
<td>PLAINTEXT</td>
<td>medium</td>
</tr>
<tr>
<td>send.buffer.bytes</td>
<td>发送数据时使用TCP发送缓冲区（SO_SNDBUF）的大小。如果值为-1，则将使用OS默认。</td>
<td>int</td>
<td>131072</td>
<td>[-1,…]</td>
<td>medium</td>
</tr>
<tr>
<td>ssl.enabled.protocols</td>
<td>启用SSL连接的协议列表。</td>
<td>list</td>
<td>TLSv1.2,TLSv1 .1,TLSv1</td>
<td></td>
<td>medium</td>
</tr>
<tr>
<td>ssl.keystore.type</td>
<td>密钥存储文件的文件格式。 对于客户端是可选的。</td>
<td>string</td>
<td>JKS</td>
<td></td>
<td>medium</td>
</tr>
<tr>
<td>ssl.protocol</td>
<td>用于生成SSLContext的SSL协议。 默认设置是TLS，这对大多数情况都是适用的。 最新的JVM中的允许值为TLS，TLSv1.1和TLSv1.2。 旧的JVM可能支持SSL，SSLv2和SSLv3，但由于已知的安全漏洞，不建议使用SSL。</td>
<td>string</td>
<td>TLS</td>
<td></td>
<td>medium</td>
</tr>
<tr>
<td>ssl.provider</td>
<td>用于SSL连接的安全提供程序的名称。 默认值是JVM的默认安全提供程序。</td>
<td>string</td>
<td>null</td>
<td></td>
<td>medium</td>
</tr>
<tr>
<td>ssl.truststore.type</td>
<td>信任存储文件的文件格式。</td>
<td>string</td>
<td>JKS</td>
<td></td>
<td>medium</td>
</tr>
<tr>
<td>worker.sync.timeout.ms</td>
<td>当worker与其他worker不同步并需要重新同步配置时，需等待一段时间才能离开组，然后才能重新加入。</td>
<td>int</td>
<td>3000</td>
<td></td>
<td>medium</td>
</tr>
<tr>
<td>worker.unsync.backoff.ms</td>
<td>当worker与其他worker不同步，并且无法在worker.sync.timeout.ms 期间追赶上，在重新连接之前，退出Connect集群的时间。</td>
<td>int</td>
<td>300000</td>
<td></td>
<td>medium</td>
</tr>
<tr>
<td>access.control.allow.methods</td>
<td>通过设置Access-Control-Allow-Methods标头来设置跨源请求支持的方法。 Access-Control-Allow-Methods标头的默认值允许GET，POST和HEAD的跨源请求。</td>
<td>string</td>
<td>“”</td>
<td></td>
<td>low</td>
</tr>
<tr>
<td>access.control.allow.origin</td>
<td>将Access-Control-Allow-Origin标头设置为REST API请求。要启用跨源访问，请将其设置为应该允许访问API的应用程序的域，或者 *” 以允许从任何的<code>域</code>。 默认值只允许从REST API的域访问。</td>
<td>string</td>
<td>“”</td>
<td></td>
<td>low</td>
</tr>
<tr>
<td>client.id</td>
<td>在发出请求时传递给服务器的id字符串。这样做的目的是通过允许逻辑应用程序名称包含在请求消息中，来跟踪请求来源。而不仅仅是ip&#x2F;port</td>
<td>string</td>
<td>“”</td>
<td></td>
<td>low</td>
</tr>
<tr>
<td>config.storage.replication.factor</td>
<td>当创建配置仓库topic时的副本数</td>
<td>short</td>
<td>3</td>
<td>[1,…]</td>
<td>low</td>
</tr>
<tr>
<td>metadata.max.age.ms</td>
<td>在没有任何分区leader改变，主动地发现新的broker或分区的时间。</td>
<td>long</td>
<td>300000</td>
<td>[0,…]</td>
<td>low</td>
</tr>
<tr>
<td>metric.reporters</td>
<td>A list of classes to use as metrics reporters. Implementing the MetricReporter interface allows plugging in classes that will be notified of new metric creation. The JmxReporter is always included to register JMX statistics.</td>
<td>list</td>
<td>“”</td>
<td></td>
<td>low</td>
</tr>
<tr>
<td>metrics.num.samples</td>
<td>保留计算metrics的样本数（译者不清楚是做什么的）</td>
<td>int</td>
<td>2</td>
<td>[1,…]</td>
<td>low</td>
</tr>
<tr>
<td>metrics.sample.window.ms</td>
<td>The window of time a metrics sample is computed over.</td>
<td>long</td>
<td>30000</td>
<td>[0,…]</td>
<td>low</td>
</tr>
<tr>
<td>offset.flush.interval.ms</td>
<td>尝试提交任务偏移量的间隔。</td>
<td>long</td>
<td>60000</td>
<td></td>
<td>low</td>
</tr>
<tr>
<td>offset.flush.timeout.ms</td>
<td>在取消进程并恢复要在之后尝试提交的offset数据之前，等待消息刷新并分配要提交到offset仓库的offset数据的最大毫秒数。</td>
<td>long</td>
<td>5000</td>
<td></td>
<td>low</td>
</tr>
<tr>
<td>offset.storage.partitions</td>
<td>创建offset仓库topic的分区数</td>
<td>int</td>
<td>25</td>
<td>[1,…]</td>
<td>low</td>
</tr>
<tr>
<td>offset.storage.replication.factor</td>
<td>创建offset仓库topic的副本数</td>
<td>short</td>
<td>3</td>
<td>[1,…]</td>
<td>low</td>
</tr>
<tr>
<td>plugin.path</td>
<td>包含插件(连接器,转换器,转换)逗号(,)分隔的路径列表。该列表应包含顶级目录，其中包括以下任何组合：a）包含jars与插件及其依赖关系的目录 b）具有插件及其依赖项的uber-jars c）包含插件类的包目录结构的目录及其依赖关系,注意配置：将遵循符号链接来发现依赖关系或插件。 示例：plugin.path&#x3D;&#x2F;usr&#x2F;local&#x2F;share&#x2F;java,&#x2F;usr&#x2F;local&#x2F;share&#x2F;kafka&#x2F;plugins,&#x2F;opt&#x2F;connectors</td>
<td>list</td>
<td>null</td>
<td></td>
<td>low</td>
</tr>
<tr>
<td>reconnect.backoff.max.ms</td>
<td>无法连接broker时等待的最大时间（毫秒）。如果设置，则每个host的将会持续的增加，直到达到最大值。计算增加后，再增加20％的随机抖动，以避免高频的反复连接。</td>
<td>long</td>
<td>1000</td>
<td>[0,…]</td>
<td>low</td>
</tr>
<tr>
<td>reconnect.backoff.ms</td>
<td>尝试重新连接到主机之前等待的时间。 避免了高频率反复的连接主机。 这种机制适用于消费者向broker发送的所有请求。</td>
<td>long</td>
<td>50</td>
<td>[0,…]</td>
<td>low</td>
</tr>
<tr>
<td>rest.advertised.host.name</td>
<td>如果设置，其他wokers将通过这个hostname进行连接。</td>
<td>string</td>
<td>null</td>
<td></td>
<td>low</td>
</tr>
<tr>
<td>rest.advertised.port</td>
<td>如果设置，其他的worker将通过这个端口进行连接。</td>
<td>int</td>
<td>null</td>
<td></td>
<td>low</td>
</tr>
<tr>
<td>rest.host.name</td>
<td>REST API的主机名。 如果设置，它将只绑定到这个接口。</td>
<td>string</td>
<td>null</td>
<td></td>
<td>low</td>
</tr>
<tr>
<td>rest.port</td>
<td>用于监听REST API的端口</td>
<td>int</td>
<td>8083</td>
<td>low</td>
<td></td>
</tr>
<tr>
<td>retry.backoff.ms</td>
<td>失败请求重新尝试之前的等待时间，避免了在某些故障的情况下，频繁的重复发送请求。</td>
<td>long</td>
<td>100</td>
<td>[0,…]</td>
<td>low</td>
</tr>
<tr>
<td>sasl.kerberos.kinit.cmd</td>
<td>Kerberos kinit命令路径.</td>
<td>string</td>
<td>&#x2F;usr&#x2F;bin&#x2F;kinit</td>
<td></td>
<td>low</td>
</tr>
<tr>
<td>sasl.kerberos.min.time.before.relogin</td>
<td>尝试refresh之间登录线程的休眠时间.</td>
<td>long</td>
<td>60000</td>
<td></td>
<td>low</td>
</tr>
<tr>
<td>sasl.kerberos.ticket.renew.jitter</td>
<td>添加到更新时间的随机抖动百分比。</td>
<td>double</td>
<td>0.05</td>
<td></td>
<td>low</td>
</tr>
<tr>
<td>sasl.kerberos.ticket.renew.window.factor</td>
<td>登录线程将休眠，直到从上次刷新ticket到期，此时将尝试续订ticket。</td>
<td>double</td>
<td>0.8</td>
<td></td>
<td>low</td>
</tr>
<tr>
<td>ssl.cipher.suites</td>
<td>密码套件列表。用于TLS或SSL网络协议协商网络连接的安全设置的认证，加密，MAC和密钥交换算法的命名组合。 默认情况下，支持所有可用的密码套件。</td>
<td>list</td>
<td>null</td>
<td></td>
<td>low</td>
</tr>
<tr>
<td>ssl.endpoint.identification.algorithm</td>
<td>末端识别算法使用服务器证书验证服务器主机名。</td>
<td>string</td>
<td>null</td>
<td></td>
<td>low</td>
</tr>
<tr>
<td>ssl.keymanager.algorithm</td>
<td>用于SSL连接的key管理工厂的算法，默认值是Java虚拟机配置的密钥管理工厂算法。</td>
<td>string</td>
<td>SunX509</td>
<td></td>
<td>low</td>
</tr>
<tr>
<td>ssl.secure.random.implementation</td>
<td>用于SSL加密操作的SecureRandom PRNG实现。</td>
<td>string</td>
<td>null</td>
<td></td>
<td>low</td>
</tr>
<tr>
<td>ssl.trustmanager.algorithm</td>
<td>用于SSL连接的信任管理仓库算法。默认值是Java虚拟机配置的信任管理器工厂算法。</td>
<td>string</td>
<td>PKIX</td>
<td></td>
<td>low</td>
</tr>
<tr>
<td>status.storage.partitions</td>
<td>用于创建状态仓库topic的分区数</td>
<td>int</td>
<td>5</td>
<td>[1,…]</td>
<td>low</td>
</tr>
<tr>
<td>status.storage.replication.factor</td>
<td>用于创建状态仓库topic的副本数</td>
<td>short</td>
<td>3</td>
<td>[1,…]</td>
<td>low</td>
</tr>
<tr>
<td>task.shutdown.graceful.timeout.ms</td>
<td>等待任务正常关闭的时间，这是总时间，不是每个任务，所有任务触发关闭，然后依次等待。</td>
<td>long</td>
<td>5000</td>
<td></td>
<td>low</td>
</tr>
</tbody></table>
<p>本文地址： <a href="https://github.com/maxzhao-it/blog/post/34489/">https://github.com/maxzhao-it/blog/post/34489/</a> </p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://github.com/maxzhao-it/blog/post/23026/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/uploads/images/avatar.jpg">
      <meta itemprop="name" content="赵联胜">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="maxzhao">
      <meta itemprop="description" content="小码农赵联胜的博客,从遇到Java到爱上Java，工作之余学习Java生态圈中的各种技术。">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | maxzhao">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/blog/post/23026/" class="post-title-link" itemprop="url">Linux删除文件之后恢复（ext3grep）</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2022-07-04 14:50:22" itemprop="dateModified" datetime="2022-07-04T14:50:22+08:00">2022-07-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>某天，不小心误删了 $HOME 路径下的数据。</p>
<p>网上找到了<code>ext3grep</code>尝试恢复;</p>
<p>安装</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S ext3grep</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>查看版本</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ext3grep -v</span><br></pre></td></tr></table></figure>

<p> 输出下面信息</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Running ext3grep version 0.10.2</span><br><span class="line">ext3grep v0.10.2, Copyright (C) 2008 Carlo Wood.</span><br><span class="line">ext3grep comes with ABSOLUTELY NO WARRANTY;</span><br><span class="line">This program is free software; your freedom to use, change</span><br><span class="line">and distribute this program is protected by the GPL.</span><br></pre></td></tr></table></figure>

<p>查看命令</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ext3grep --<span class="built_in">help</span> </span><br></pre></td></tr></table></figure>

<p>查询要恢复文件的 inode 号</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ext3grep /dev/sda5 --ls --inode 10092546</span><br></pre></td></tr></table></figure>

<p>查询最大 <code>inode</code>号</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls -id</span><br></pre></td></tr></table></figure>



<p>失败</p>
<p>本文地址： <a href="https://github.com/maxzhao-it/blog/post/23026/">https://github.com/maxzhao-it/blog/post/23026/</a> </p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://github.com/maxzhao-it/blog/post/48634/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/uploads/images/avatar.jpg">
      <meta itemprop="name" content="赵联胜">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="maxzhao">
      <meta itemprop="description" content="小码农赵联胜的博客,从遇到Java到爱上Java，工作之余学习Java生态圈中的各种技术。">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | maxzhao">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/blog/post/48634/" class="post-title-link" itemprop="url">ArchLinux安装GRUB主题</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2022-07-04 14:50:22" itemprop="dateModified" datetime="2022-07-04T14:50:22+08:00">2022-07-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>下载主题到 <a target="_blank" rel="noopener" href="https://link.jianshu.com/?t=https://www.gnome-look.org/browse/cat/109/ord/latest/">gnome-look</a> 。</p>
<p>我这里下载的排名最高的 <a target="_blank" rel="noopener" href="https://www.gnome-look.org/p/1307852/">Tela grub</a></p>
<h3 id="解压缩主题包"><a href="#解压缩主题包" class="headerlink" title="解压缩主题包"></a>解压缩主题包</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo tar -xf 主题包名 </span><br></pre></td></tr></table></figure>

<h3 id="安装主题"><a href="#安装主题" class="headerlink" title="安装主题"></a>安装主题</h3><h4 id="1、复制主题"><a href="#1、复制主题" class="headerlink" title="1、复制主题"></a>1、复制主题</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo <span class="built_in">cp</span> -r 主题包名 /boot/grub/themes/  </span><br><span class="line"><span class="comment"># 或者</span></span><br><span class="line">sudo <span class="built_in">cp</span> -r Tela /usr/share/grub/themes/</span><br></pre></td></tr></table></figure>

<h4 id="2、直接执行install-sh脚本"><a href="#2、直接执行install-sh脚本" class="headerlink" title="2、直接执行install.sh脚本"></a>2、直接执行<code>install.sh</code>脚本</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo sh Tela-2k/install.sh</span><br></pre></td></tr></table></figure>

<h3 id="修改配置文件"><a href="#修改配置文件" class="headerlink" title="修改配置文件"></a>修改配置文件</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/grub.d/00_header</span><br></pre></td></tr></table></figure>

<p>添加如下内容：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">GRUB_THEME=<span class="string">&quot;/boot/grub/themes/主题包名/theme.txt&quot;</span></span><br><span class="line">GRUB_GFXMODE=<span class="string">&quot;1920x1080x32&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="更新配置文件"><a href="#更新配置文件" class="headerlink" title="更新配置文件"></a>更新配置文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo grub-mkconfig -o /boot/grub/grub.cfg</span><br></pre></td></tr></table></figure>

<h3 id="修改启动界面字体"><a href="#修改启动界面字体" class="headerlink" title="修改启动界面字体"></a>修改启动界面字体</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 这里是主题目录</span></span><br><span class="line">vim /usr/share/grub/themes/Tela/theme.txt</span><br></pre></td></tr></table></figure>

<p>修改其中的</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">item_font=<span class="string">&quot;&quot;</span></span><br></pre></td></tr></table></figure>

<p>改好保存就可以了。</p>
<p>本文地址： <a href="https://github.com/maxzhao-it/blog/post/48634/">https://github.com/maxzhao-it/blog/post/48634/</a> </p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://github.com/maxzhao-it/blog/post/60430/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/uploads/images/avatar.jpg">
      <meta itemprop="name" content="赵联胜">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="maxzhao">
      <meta itemprop="description" content="小码农赵联胜的博客,从遇到Java到爱上Java，工作之余学习Java生态圈中的各种技术。">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | maxzhao">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/blog/post/60430/" class="post-title-link" itemprop="url">Ubuntu开发环境安装</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2022-12-08 13:29:52" itemprop="dateModified" datetime="2022-12-08T13:29:52+08:00">2022-12-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="了解包管理工具-apt-and-snap"><a href="#了解包管理工具-apt-and-snap" class="headerlink" title="了解包管理工具 apt and snap"></a>了解包管理工具 <code>apt and snap</code></h2><p>apt所采用的包是deb包，deb包最初是Debian Linux推出的，由于ubuntu基于debian，ubuntu将其集成到了apt包管理器中，apt可以自动解决软件之间依赖问题，对于当时的Linux软件市场来说，是一个巨大的进步，ubuntu还造了一个类似apple store的软件商店出来，以提供UI支持。</p>
<p>在ubuntu上配置好apt的国内源后，就可以使用apt-get轻松的安装软件了。</p>
<p>但是，随着软件包管理技术的进步和更新，随着计算机存储的提升，又随着开发者和用户对安全的重视提升，虚拟化和沙盒的概念逐渐兴起，虽然几年前ubuntu用apt代替了apt-get，ubuntu的母公司Canonical又整出了一个snap，我认为其理念和技术在很多方面都优于apt。而apt和apt-get只是换了个名字，但是snap是使用了沙盒，或者说容器的技术，是很大的进步。</p>
<p>总觉得在抄袭docker的思想，docker又是从虚拟化技术来的。</p>
<h2 id="APT-修改为国内镜像"><a href="#APT-修改为国内镜像" class="headerlink" title="APT 修改为国内镜像"></a>APT 修改为国内镜像</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo <span class="built_in">cp</span> /etc/apt/sources.list /etc/apt/sources.list.back</span><br><span class="line">sudo sed -i <span class="string">&quot;s@http://.*archive.ubuntu.com@https://mirrors.tuna.tsinghua.edu.cn@g&quot;</span> /etc/apt/sources.list</span><br><span class="line">sudo sed -i <span class="string">&quot;s@http://.*security.ubuntu.com@https://mirrors.tuna.tsinghua.edu.cn@g&quot;</span> /etc/apt/sources.list</span><br></pre></td></tr></table></figure>

<p>把里面的内容修改为 <a target="_blank" rel="noopener" href="https://mirrors.tuna.tsinghua.edu.cn/help/ubuntu/">清华大学</a> </p>
<h2 id="修改IP"><a href="#修改IP" class="headerlink" title="修改IP"></a>修改IP</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/netplan/00-installer-config.yaml</span><br></pre></td></tr></table></figure>

<p>修改文件</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># This is the network config written by &#x27;subiquity&#x27;</span></span><br><span class="line"><span class="attr">network:</span></span><br><span class="line">  <span class="attr">ethernets:</span></span><br><span class="line">    <span class="attr">ens33:</span></span><br><span class="line">      <span class="attr">addresses:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="number">192.168</span><span class="number">.222</span><span class="number">.100</span><span class="string">/24</span></span><br><span class="line">      <span class="attr">nameservers:</span></span><br><span class="line">        <span class="attr">addresses:</span> [<span class="number">114.114</span><span class="number">.114</span><span class="number">.114</span>]</span><br><span class="line">      <span class="attr">routes:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">to:</span> <span class="string">default</span></span><br><span class="line">          <span class="attr">via:</span> <span class="number">192.168</span><span class="number">.222</span><span class="number">.254</span></span><br><span class="line">      <span class="attr">dhcp4:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">version:</span> <span class="number">2</span></span><br></pre></td></tr></table></figure>

<p>配置生效</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo netplan apply</span><br><span class="line"><span class="comment"># 查看 ip</span></span><br><span class="line">ip addr show ens33</span><br><span class="line"><span class="comment"># 查看路由</span></span><br><span class="line">ip route show</span><br></pre></td></tr></table></figure>



<h2 id="deb"><a href="#deb" class="headerlink" title="deb"></a>deb</h2><ul>
<li>Apt中找不到的软件需要PPA安装</li>
<li>对与.deb后缀的包，双击可安装，dpkg安装</li>
<li>deb 不是特别安全，安装授权后可以访问系统任何位置</li>
<li>多个软件可共享一个类库</li>
<li>仅支持deb系的Linux</li>
</ul>
<h3 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h3><p>查看IP</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ip addr</span><br></pre></td></tr></table></figure>

<p>源</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 更新源</span></span><br><span class="line">sudo apt update</span><br><span class="line"><span class="comment"># 查看可更新软件</span></span><br><span class="line">sudo apt list --upgradable</span><br><span class="line"><span class="comment"># 更新已经安装的软件</span></span><br><span class="line">sudo apt upgrade</span><br><span class="line"><span class="comment"># 安装软件</span></span><br><span class="line">sudo apt install net-tools wget</span><br><span class="line"><span class="comment"># 移除软件</span></span><br><span class="line">sudo apt remove firefox</span><br><span class="line"><span class="comment"># 删除并清除配置文件</span></span><br><span class="line">sudo apt --purge remove firefox</span><br><span class="line"><span class="comment"># 清理安装包</span></span><br><span class="line">sudo apt autoclean</span><br><span class="line"><span class="comment"># 清理所有安装包</span></span><br><span class="line">sudo apt clean</span><br><span class="line"><span class="comment"># 搜索软件</span></span><br><span class="line">apt search firefox</span><br><span class="line"><span class="comment"># 列出已安装的</span></span><br><span class="line">apt list --installed</span><br><span class="line"><span class="comment"># 卸载多余依赖</span></span><br><span class="line">sudo apt autoremove</span><br></pre></td></tr></table></figure>

<h3 id="服务端必备软件"><a href="#服务端必备软件" class="headerlink" title="服务端必备软件"></a>服务端必备软件</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install -y net-tools unzip</span><br></pre></td></tr></table></figure>



<h2 id="snap"><a href="#snap" class="headerlink" title="snap"></a>snap</h2><p>没有代理不建议尝试，下载太慢了。<br>什么是snap？引用下面这段话：</p>
<blockquote>
<p>是Canonical公司发布的全新的软件包管理方式，它类似一个容器拥有一个应用程序所有的文件和库，各个应用程序之间完全独立。所以使用snap包的好处就是它解决了应用程序之间的依赖问题，使应用程序之间更容易管理。但是由此带来的问题就是它占用更多的磁盘空间。</p>
</blockquote>
<p>说白了snap是个新的包管理工具，他使用了容器的概念，他源自ubuntu母公司，但不止支持ubuntu，支持更多的Linux发行版。</p>
<p>snap最大的特点就是使用了容器来管理软件，容器带来最大的好处就是，</p>
<ol>
<li>软件运行更加安全</li>
<li>独立和更加易控的版本</li>
<li>软件互不干预</li>
</ol>
<p>snap的特点是</p>
<ul>
<li>易于打包软件和发行</li>
<li>自动升级，你安装的软件永远都是最新的</li>
<li>支持大量的Linux发行版</li>
<li>易于版本回滚和改变.</li>
<li>容易构建软件项目</li>
<li>同时支持开源和闭源软件发行.</li>
<li>Snaps更加安全</li>
</ul>
<p>snap安装软件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo snap install firefox</span><br></pre></td></tr></table></figure>

<p>列出安装的软件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">snap list</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>搜索软件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">snap find</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>更新软件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo snap refresh firefox</span><br><span class="line"># 更新全部</span><br><span class="line">sudo snap refresh all</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>卸载软件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">snap remove firefox</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="snap-下载慢问题"><a href="#snap-下载慢问题" class="headerlink" title="snap 下载慢问题"></a>snap 下载慢问题</h3><p><a href="%5Bhttps://snapcraft.io/search?q=intellij-idea%5D(https://snapcraft.io/search?)">snapcraft</a>可以直接下载软件，下载对应的 <code>amd or amd64</code><br>然后</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo snap install xxx.snap --dangerous</span><br></pre></td></tr></table></figure>


<h2 id="安装开发环境"><a href="#安装开发环境" class="headerlink" title="安装开发环境"></a>安装开发环境</h2><h3 id="安装-Typort"><a href="#安装-Typort" class="headerlink" title="安装 Typort"></a>安装 Typort</h3><p>写文档的<code>Markdown</code></p>
<p><a target="_blank" rel="noopener" href="https://typora.io/#linux">官方安装方式</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># or run:</span></span><br><span class="line"><span class="comment"># sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys BA300B7755AFCFAE</span></span><br><span class="line">wget -qO - https://typora.io/linux/public-key.asc | sudo apt-key add -</span><br><span class="line"><span class="comment"># add Typora&#x27;s repository</span></span><br><span class="line">sudo add-apt-repository <span class="string">&#x27;deb https://typora.io/linux ./&#x27;</span></span><br><span class="line">sudo apt-get update</span><br><span class="line"><span class="comment"># install typora</span></span><br><span class="line">sudo apt-get install typora</span><br></pre></td></tr></table></figure>
<h3 id="安装-Chrome"><a href="#安装-Chrome" class="headerlink" title="安装 Chrome"></a>安装 Chrome</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查询</span></span><br><span class="line">sudo apt-cache search chrome |grep chrome</span><br><span class="line"><span class="comment"># 安装</span></span><br><span class="line">sudo apt-get install chrome-gnome-shell</span><br><span class="line"><span class="comment"># or</span></span><br><span class="line">sudo wget http://www.linuxidc.com/files/repo/google-chrome.list -P /etc/apt/sources.list.d/</span><br><span class="line">wget -q -O - https://dl.google.com/linux/linux_signing_key.pub | sudo apt-key add -</span><br><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install google-chrome-stable</span><br></pre></td></tr></table></figure>

<h3 id="安装-JDK8-x2F-14"><a href="#安装-JDK8-x2F-14" class="headerlink" title="安装 JDK8&#x2F;14"></a>安装 JDK8&#x2F;14</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查询是否 `jdk` 版本</span></span><br><span class="line"> sudo apt-cache search jdk |grep 8</span><br><span class="line"> sudo apt-cache search jdk |grep 14</span><br><span class="line"><span class="comment"># 安装 `jdk`</span></span><br><span class="line">sudo apt-get install openjdk-8-jdk openjdk-8-doc openjdk-8-source openjdk-14-jdk openjdk-14-jre openjdk-14-doc openjdk-14-source  </span><br></pre></td></tr></table></figure>
<p>切换 jdk 版本</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo update-alternatives --config java</span><br></pre></td></tr></table></figure>
<p>添加本地jdk</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo update-alternatives --install /usr/bin/java java /opt/jdk1.8.0_211/bin/java 700</span><br><span class="line">sudo update-alternatives --install /usr/bin/javac javac /opt/jdk1.8.0_211/bin/javac 700</span><br><span class="line">sudo update-alternatives --install /usr/bin/jar jar /opt/jdk1.8.0_211/bin/jar 700</span><br></pre></td></tr></table></figure>
<h3 id="安装-Maven"><a href="#安装-Maven" class="headerlink" title="安装 Maven"></a>安装 Maven</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查询</span></span><br><span class="line">sudo apt-cache search all |grep maven</span><br><span class="line"><span class="comment"># 官方推荐脚本</span></span><br><span class="line">sudo apt-get install maven</span><br></pre></td></tr></table></figure>
<h3 id="安装-IDEA"><a href="#安装-IDEA" class="headerlink" title="安装 IDEA"></a>安装 IDEA</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查询，没有结果</span></span><br><span class="line">sudo apt-cache search all |grep intellij-idea</span><br><span class="line"><span class="comment"># 官方推荐脚本，但是这个好像安装不了</span></span><br><span class="line">sudo snap install intellij-idea-ultimate --classic</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#问题</span></span><br><span class="line">cannot install <span class="string">&quot;intellij-idea-community&quot;</span>: snap <span class="string">&quot;intellij-idea-community&quot;</span></span><br><span class="line">       has <span class="string">&quot;install-snap&quot;</span> change <span class="keyword">in</span> progress</span><br><span class="line"><span class="comment"># 解决方式 </span></span><br><span class="line">sudo snap changes</span><br><span class="line"><span class="comment"># 终止安装</span></span><br><span class="line">sudo snap abort 5</span><br><span class="line"><span class="comment"># 这里需要去 snapcraft 下载</span></span><br></pre></td></tr></table></figure>

<h3 id="安装-VSCode"><a href="#安装-VSCode" class="headerlink" title="安装 VSCode"></a>安装 VSCode</h3><p><a target="_blank" rel="noopener" href="https://code.visualstudio.com/docs/?dv=linux64_deb">官网</a>下载安装包 </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo dpkg -i code_1.47.3-1595520028_amd64.deb</span><br></pre></td></tr></table></figure>



<h3 id="安装-Git"><a href="#安装-Git" class="headerlink" title="安装 Git"></a>安装 Git</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查询，没有结果</span></span><br><span class="line">sudo apt-cache search git |grep git </span><br><span class="line"><span class="comment"># 安装，上面太多了，直接安装</span></span><br><span class="line">sudo apt-get install git</span><br></pre></td></tr></table></figure>

<h3 id="安装-Docker"><a href="#安装-Docker" class="headerlink" title="安装 Docker"></a>安装 Docker</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install docker</span><br></pre></td></tr></table></figure>

<h3 id="安装-NodeJS"><a href="#安装-NodeJS" class="headerlink" title="安装 NodeJS"></a>安装 NodeJS</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install npm nodejs</span><br></pre></td></tr></table></figure>

<h4 id="修改源"><a href="#修改源" class="headerlink" title="修改源"></a>修改源</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm config <span class="built_in">set</span> registry https://registry.npmmirror.com</span><br></pre></td></tr></table></figure>

<p>测试</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm config get registry</span><br></pre></td></tr></table></figure>



<h3 id="安装-Flutter"><a href="#安装-Flutter" class="headerlink" title="安装 Flutter"></a>安装 Flutter</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo snap find flutter</span><br><span class="line">sudo snap install flutter --classic</span><br></pre></td></tr></table></figure>





<h2 id="其它工具"><a href="#其它工具" class="headerlink" title="其它工具"></a>其它工具</h2><h3 id="安装-Vim"><a href="#安装-Vim" class="headerlink" title="安装 Vim"></a>安装 Vim</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install vim</span><br></pre></td></tr></table></figure>

<h3 id="安装-Curl"><a href="#安装-Curl" class="headerlink" title="安装 Curl"></a>安装 Curl</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install curl</span><br></pre></td></tr></table></figure>



<h3 id="安装-wps-office"><a href="#安装-wps-office" class="headerlink" title="安装 wps-office"></a>安装 wps-office</h3><p><a target="_blank" rel="noopener" href="https://linux.wps.cn/">官方下载</a> x64版本的.deb包。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> Download</span><br><span class="line">sudo dpkg -i wps-office_******_amd64.deb</span><br><span class="line"><span class="comment"># 部分字体</span></span><br><span class="line">sudo apt -y install fonts-wqy-microhei fonts-wqy-zenhei</span><br></pre></td></tr></table></figure>

<h3 id="安装-Dash-to-dock"><a href="#安装-Dash-to-dock" class="headerlink" title="安装 Dash-to-dock"></a>安装 Dash-to-dock</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-cache search dock |grep dash</span><br><span class="line">sudo apt-get install gnome-shell-extension-dash-to-panel</span><br></pre></td></tr></table></figure>



<p>本文地址： <a href="https://github.com/maxzhao-it/blog/post/60430/">https://github.com/maxzhao-it/blog/post/60430/</a> </p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://github.com/maxzhao-it/blog/post/22928/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/uploads/images/avatar.jpg">
      <meta itemprop="name" content="赵联胜">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="maxzhao">
      <meta itemprop="description" content="小码农赵联胜的博客,从遇到Java到爱上Java，工作之余学习Java生态圈中的各种技术。">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | maxzhao">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/blog/post/22928/" class="post-title-link" itemprop="url">Manjaro安装Docker</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2022-07-04 14:50:22" itemprop="dateModified" datetime="2022-07-04T14:50:22+08:00">2022-07-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/ArchLinux/" itemprop="url" rel="index"><span itemprop="name">ArchLinux</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/ArchLinux/Docker/" itemprop="url" rel="index"><span itemprop="name">Docker</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="1、基本操作"><a href="#1、基本操作" class="headerlink" title="1、基本操作"></a>1、基本操作</h3><h4 id="安装docker"><a href="#安装docker" class="headerlink" title="安装docker"></a>安装docker</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S docker</span><br></pre></td></tr></table></figure>

<h4 id="将当前用户加入组"><a href="#将当前用户加入组" class="headerlink" title="将当前用户加入组"></a>将当前用户加入组</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 添加用户组 docker</span></span><br><span class="line">sudo groupadd docker</span><br><span class="line"><span class="comment"># 将自己用户名加入 docker 组</span></span><br><span class="line">sudo gpasswd -a <span class="variable">$&#123;USER&#125;</span>  docker</span><br><span class="line"><span class="comment"># 查询当前用户分组，注销后重新登陆就好了</span></span><br><span class="line"><span class="built_in">groups</span></span><br><span class="line"><span class="comment"># 重启 docker 服务</span></span><br><span class="line">sudo systemctl restart docker</span><br></pre></td></tr></table></figure>



<h4 id="查看docker版本"><a href="#查看docker版本" class="headerlink" title="查看docker版本"></a>查看docker版本</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker --version</span><br></pre></td></tr></table></figure>
<h4 id="设置镜像"><a href="#设置镜像" class="headerlink" title="设置镜像"></a>设置镜像</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/docker/daemon.json</span><br></pre></td></tr></table></figure>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;registry-mirrors&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;https://aj2rgad5.mirror.aliyuncs.com&quot;</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<p>或者</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">	<span class="attr">&quot;registry-mirrors&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;https://docker.mirrors.ustc.edu.cn&quot;</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>



<h4 id="启动"><a href="#启动" class="headerlink" title="启动"></a>启动</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl start docker.service</span><br></pre></td></tr></table></figure>

<h3 id="2、常用命令"><a href="#2、常用命令" class="headerlink" title="2、常用命令"></a>2、常用命令</h3><h4 id="镜像相关"><a href="#镜像相关" class="headerlink" title="镜像相关"></a>镜像相关</h4><p>1）docter pull NAME[：TAG]   使用pull命令从docker hub仓库下载镜像到本地</p>
<p>2）docker tag  oldName newName    为本地镜像添加新的标签</p>
<p>3）docker images    列出本地主机上已有的镜像</p>
<p>4）docker search TERM   默认搜索docker hub官方仓库的镜像</p>
<p>5）docker rmi IMAGE [IMAGE…]   IMGE可以是标签或id</p>
<p>6）docker commit [OPTIONS] CONTAINER[REPOSITORY[:TAG]]  基于已有镜像的容器创建镜像，可以创建比较复杂的镜像。-a：作者信息，-m：提交信息，-p：提交时暂停容器运行</p>
<p>7）docker import  -NAME[：TAG]   基于本地模板导入镜像</p>
<p>8）docker build -t  NAME[：TAG]   dockerfile路径   基于dockerfile创建</p>
<p>9）docker save –o xxx.tar NAME[：TAG]   存出镜像到本地文件</p>
<ol start="10">
<li>docker  load &lt;xxxx.tar   载入镜像</li>
</ol>
<p>11）docker inspect 镜像id  查看镜像详细信息</p>
<h4 id="容器相关"><a href="#容器相关" class="headerlink" title="容器相关"></a>容器相关</h4><p>1）docker create  –it  NAME[：TAG]   创建容器</p>
<p>2）docker start  NAME[：TAG]    启动容器</p>
<p>3）docker run –it  NAME[：TAG]   等于先执行docker create命令，再执行docker start，-it交互式，守护态运行，通过run后加-d实现</p>
<p>4）docker stop[-t|–time[&#x3D;10]]   终止容器</p>
<p>5）docker restart  NAME[：TAG]   启动状态重新启动</p>
<p>6）docker   ps  –a –q   查看处于终止的容器id信</p>
<p>7）docker   ps   查看正在运行的容器</p>
<p>8）docker   ps  –a   查看所有容器</p>
<p>9）docker rm 容器id   删除容器，需要先停止</p>
<p>10）docker logs 容器id  查看容器日志</p>
<p>11）docker port &lt;container-name|container-id&gt; 端口  查看容器映射端口</p>
<p>12）docker inspect 容器id  查看容器信息</p>
<p>13）docker exec -u root -it  containerID &#x2F;bin&#x2F;bash   指定用户进入容器操作</p>
<p>14）env 容器内部输入env查看容器内部环境变量</p>
<p>15）docker cp <host_path>container-id :<container_path>  复制本地文件到容器</p>
<p>16）docker cp container-id:<container_path><host_path>  复制容器文件到本地</p>
<p>17）docker network create app_net 创建自定义网络</p>
<p>18）docker network connect app_net container-name连接网络</p>
<p>19）docker run -it -v &#x2F;dbdata –name dbdata 创建数据卷容器dbdata,并在其中创建数据卷挂载到&#x2F;dbdata。其他容器挂载使用–volumes-from dbdata，可以多次使</p>
<p>用，从多个容器挂载多个数据卷，还可以从一挂载数据卷的容器来挂载数据卷，且使用–volumes-from 参数所挂载数据卷的容器自身不需要保持运行，要删除一个数据卷</p>
<p>必须在删除最后一个还挂着它的容器时显示使用docker rm -v命令来指定同时删除关联的容器</p>
<p>本文地址： <a href="https://github.com/maxzhao-it/blog/post/22928/">https://github.com/maxzhao-it/blog/post/22928/</a> </p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://github.com/maxzhao-it/blog/post/64941/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/uploads/images/avatar.jpg">
      <meta itemprop="name" content="赵联胜">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="maxzhao">
      <meta itemprop="description" content="小码农赵联胜的博客,从遇到Java到爱上Java，工作之余学习Java生态圈中的各种技术。">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | maxzhao">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/blog/post/64941/" class="post-title-link" itemprop="url">Flutter从0开发记账APP：一.安装（ArchLinux）</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2022-07-04 14:50:22" itemprop="dateModified" datetime="2022-07-04T14:50:22+08:00">2022-07-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Flutter/" itemprop="url" rel="index"><span itemprop="name">Flutter</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>由于自己对<code>Java</code>不断的学习，想做一些自己日常用到的软件做练习。</p>
<p><code>Fullter</code>是开发比较快的<code>APP</code>应用，而且最近也比较火。</p>
<p>我<code>Java</code>开发，用的<code>Intellij</code>就不改了，直接安装<code>Flutter</code>、<code>Dart</code>插件。</p>
<h2 id="安装Flutter"><a href="#安装Flutter" class="headerlink" title="安装Flutter"></a>安装Flutter</h2><p>当前系统<code>ArchLinux</code>，所以安装比较简单。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -Syu</span><br><span class="line">sudo pacman -S flutter</span><br></pre></td></tr></table></figure>

<p>安装路径<code>/opt/flutter</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">sudo groupadd flutterusers</span><br><span class="line">sudo gpasswd -a maxzhao flutterusers</span><br><span class="line"><span class="comment"># 正在将用户“maxzhao”加入到“flutterusers”组中</span></span><br><span class="line"><span class="comment"># 授予当前安装路径为用户组</span></span><br><span class="line">sudo <span class="built_in">chown</span> -R :flutterusers /opt/flutter</span><br><span class="line"><span class="comment"># 授予当前安装路径用户组可写权限</span></span><br><span class="line">sudo <span class="built_in">chmod</span> -R g+w /opt/flutter</span><br><span class="line"><span class="comment"># 添加当前用户到 flutterusers 用户组 </span></span><br><span class="line">sudo newgrp flutterusers</span><br></pre></td></tr></table></figure>

<p>可选，预下载开发二进制文件:</p>
<p>flutter工具可以根据需要下载特定于平台的开发二进制文件。对于预先下载这些工件的场景(例如，在密封的构建环境，或间歇性的网络可用)，iOS和Android二进制文件可以通过运行提前下载:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">flutter precache</span><br></pre></td></tr></table></figure>

<p>运行以下命令查看是否需要安装其它依赖项来完成安装：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">flutter doctor</span><br></pre></td></tr></table></figure>

<p>详细的安装可以参考<a target="_blank" rel="noopener" href="https://flutterchina.club/setup-linux/">club</a> 或者 <a target="_blank" rel="noopener" href="https://flutter.dev/docs/get-started/install/linux">dev</a></p>
<h2 id="安装SDK"><a href="#安装SDK" class="headerlink" title="安装SDK"></a>安装SDK</h2><p>可以参考</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/460936ace90a"><em>Centos7</em> <em>安装</em> <em>SDK</em></a></p>
</blockquote>
<p>我已经安装好了，就不再试试了。</p>
<h2 id="设置Android模拟器"><a href="#设置Android模拟器" class="headerlink" title="设置Android模拟器"></a>设置Android模拟器</h2><p>以后再说</p>
<h2 id="安装插件"><a href="#安装插件" class="headerlink" title="安装插件"></a>安装插件</h2><p>我这里是<code>Intellij IDEA</code>，直接可以安装<code>Flutter</code>、<code>Dart</code>插件。</p>
<p><code>FlutterJsonBeanFactory</code>响应数据转为<code>实体</code></p>
<p>一阶段结束，二阶段创建第一个应用。</p>
<blockquote>
<p>推荐</p>
<p><a target="_blank" rel="noopener" href="https://flutterchina.club/setup-linux/">CLUB</a>  </p>
<p><a target="_blank" rel="noopener" href="https://flutter.dev/docs/get-started/install/linux">DEV</a></p>
</blockquote>
<p>本文地址： <a href="https://github.com/maxzhao-it/blog/post/64941/">https://github.com/maxzhao-it/blog/post/64941/</a> </p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://github.com/maxzhao-it/blog/post/43308/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/uploads/images/avatar.jpg">
      <meta itemprop="name" content="赵联胜">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="maxzhao">
      <meta itemprop="description" content="小码农赵联胜的博客,从遇到Java到爱上Java，工作之余学习Java生态圈中的各种技术。">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | maxzhao">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/blog/post/43308/" class="post-title-link" itemprop="url">Flutter从0开发记账APP：三.HelloWorld</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2022-07-04 14:50:22" itemprop="dateModified" datetime="2022-07-04T14:50:22+08:00">2022-07-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Flutter/" itemprop="url" rel="index"><span itemprop="name">Flutter</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>直接到 <a target="_blank" rel="noopener" href="https://flutterchina.club/get-started/codelab/">CLUB</a>学习更好，这里只记录我自己学习过程中的‘故事’。</p>
<h2 id="添加资源"><a href="#添加资源" class="headerlink" title="添加资源"></a>添加资源</h2><p>pubspec文件管理Flutter应用程序的assets(资源，如图片、package等)。</p>
<p><code>pubspec.yaml</code>文件中记录需要添加的依赖。</p>
<p>本文地址： <a href="https://github.com/maxzhao-it/blog/post/43308/">https://github.com/maxzhao-it/blog/post/43308/</a> </p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://github.com/maxzhao-it/blog/post/4508/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/uploads/images/avatar.jpg">
      <meta itemprop="name" content="赵联胜">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="maxzhao">
      <meta itemprop="description" content="小码农赵联胜的博客,从遇到Java到爱上Java，工作之余学习Java生态圈中的各种技术。">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | maxzhao">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/blog/post/4508/" class="post-title-link" itemprop="url">Flutter从0开发记账APP：二.创建第一个应用</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2022-07-04 14:50:22" itemprop="dateModified" datetime="2022-07-04T14:50:22+08:00">2022-07-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Flutter/" itemprop="url" rel="index"><span itemprop="name">Flutter</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>这里创建及其以后许多操作都是用 <code>Terminal</code>去操作，主要是命令方便。</p>
<p><code>Android Studio</code>与<code>Intellij IDEA</code>是一样的操作。</p>
<h2 id="创建"><a href="#创建" class="headerlink" title="创建"></a>创建</h2><h3 id="名称要求"><a href="#名称要求" class="headerlink" title="名称要求"></a>名称要求</h3><p>名称必须是小写，并满足<code>[a-z0-9_]</code>表达式</p>
<h3 id="Running-“flutter-pub-get”-in-gtboot…"><a href="#Running-“flutter-pub-get”-in-gtboot…" class="headerlink" title="Running “flutter pub get” in gtboot…"></a>Running “flutter pub get” in gtboot…</h3><p>这个运行慢问题，可以在环境变量中添加包地址，建议先添加</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vim ~/.bash_profile</span><br><span class="line"><span class="comment"># 或者 vim ～/.bashrc   </span></span><br></pre></td></tr></table></figure>

<p>写入下面两行</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> PUB_HOSTED_URL=https://pub.flutter-io.cn</span><br><span class="line"><span class="built_in">export</span> FLUTTER_STORAGE_BASE_URL=https://storage.flutter-io.cn</span><br></pre></td></tr></table></figure>

<p>然后刷新配置文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> ~/.bash_profile   </span><br><span class="line"><span class="comment"># 查看当前是否成功  要关闭之前的创建程序</span></span><br><span class="line">flutter -h</span><br></pre></td></tr></table></figure>

<p>然后创建就很快了。</p>
<h3 id="创建project"><a href="#创建project" class="headerlink" title="创建project"></a>创建<code>project</code></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">flutter create gtboot</span><br><span class="line"><span class="comment"># 这里创建的时候会生成一个 demo，比较浪费时间</span></span><br><span class="line"><span class="built_in">cd</span> gtboot</span><br></pre></td></tr></table></figure>



<h2 id="运行应用"><a href="#运行应用" class="headerlink" title="运行应用"></a>运行应用</h2><p>如果使用的设备为手机，则需要开启<code>usb调试</code>模式，并且要对当前设备授权.</p>
<ul>
<li>检查Android设备是否在运行。如果没有显示, 请参照 <a target="_blank" rel="noopener" href="https://flutterchina.club/get-started/install/">设置</a>.</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">flutter devices</span><br></pre></td></tr></table></figure>

<p>也可以运行 <code>flutter doctor </code>查看当前环境情况</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Doctor summary (to see all details, run flutter doctor -v):</span><br><span class="line">[✓] Flutter (Channel stable, v1.17.4, on Linux, locale zh_CN.UTF-8)</span><br><span class="line">[!] Android toolchain - develop <span class="keyword">for</span> Android devices (Android SDK version 29.0.3)</span><br><span class="line">    ! Some Android licenses not accepted.  To resolve this, run: flutter doctor</span><br><span class="line">      --android-licenses</span><br><span class="line">[!] Android Studio (not installed)</span><br><span class="line">[!] Connected device</span><br><span class="line">    ! No devices available</span><br><span class="line"></span><br><span class="line">! Doctor found issues <span class="keyword">in</span> 3 categories.</span><br></pre></td></tr></table></figure>

<p>如果设备为手机，在<code>IDEA</code>上也可以看到。</p>
<ul>
<li>运行 <code>flutter run</code> 命令来运行应用程序:</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">flutter run</span><br></pre></td></tr></table></figure>



<h3 id="卡在Running-Gradle-task-‘assembleDebug’…"><a href="#卡在Running-Gradle-task-‘assembleDebug’…" class="headerlink" title="卡在Running Gradle task ‘assembleDebug’…"></a>卡在Running Gradle task ‘assembleDebug’…</h3><p>因为Gradle的Maven仓库是在国外, 我们可以使用阿里云的镜像地址~</p>
<h4 id="修改-flutter-基础地址"><a href="#修改-flutter-基础地址" class="headerlink" title="修改 flutter 基础地址"></a>修改 flutter 基础地址</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /opt/flutter/packages/flutter_tools/gradle/flutter.gradle </span><br></pre></td></tr></table></figure>

<p>写入阿里云地址</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">buildscript &#123;</span><br><span class="line">    repositories &#123;</span><br><span class="line">        // google()</span><br><span class="line">        // jcenter()</span><br><span class="line">        maven &#123; url <span class="string">&#x27;https://maven.aliyun.com/repository/google&#x27;</span> &#125;</span><br><span class="line">        maven &#123; url <span class="string">&#x27;https://maven.aliyun.com/repository/jcenter&#x27;</span> &#125;</span><br><span class="line">        maven &#123; url <span class="string">&#x27;http://maven.aliyun.com/nexus/content/groups/public&#x27;</span> &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    dependencies &#123;</span><br><span class="line">        classpath <span class="string">&#x27;com.android.tools.build:gradle:3.5.0&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="修改项目中的地址"><a href="#修改项目中的地址" class="headerlink" title="修改项目中的地址"></a>修改项目中的地址</h4><p>打开<code>android/build.gradle</code>文件</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">buildscript</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="attr">ext.kotlin_version</span> = <span class="string">&#x27;1.3.50&#x27;</span></span><br><span class="line">    <span class="attr">repositories</span> <span class="string">&#123;</span></span><br><span class="line">       <span class="attr">//</span> <span class="string">google()</span></span><br><span class="line">       <span class="attr">//</span> <span class="string">jcenter()</span></span><br><span class="line">   <span class="attr">maven</span> <span class="string">&#123; url &#x27;https://maven.aliyun.com/repository/google&#x27; &#125;  </span></span><br><span class="line">   <span class="attr">maven</span> <span class="string">&#123; url &#x27;https://maven.aliyun.com/repository/jcenter&#x27; &#125;  </span></span><br><span class="line">   <span class="attr">maven</span> <span class="string">&#123; url &#x27;http://maven.aliyun.com/nexus/content/groups/public&#x27; &#125;  </span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">dependencies</span> <span class="string">&#123;</span></span><br><span class="line">        <span class="attr">classpath</span> <span class="string">&#x27;com.android.tools.build:gradle:3.5.0&#x27;</span></span><br><span class="line">        <span class="attr">classpath</span> <span class="string">&quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line"><span class="attr">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">allprojects</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="attr">repositories</span> <span class="string">&#123;</span></span><br><span class="line">       <span class="attr">//</span> <span class="string">google()</span></span><br><span class="line">       <span class="attr">//</span> <span class="string">jcenter()</span></span><br><span class="line">   <span class="attr">maven</span> <span class="string">&#123; url &#x27;https://maven.aliyun.com/repository/google&#x27; &#125;  </span></span><br><span class="line">   <span class="attr">maven</span> <span class="string">&#123; url &#x27;https://maven.aliyun.com/repository/jcenter&#x27; &#125;  </span></span><br><span class="line">   <span class="attr">maven</span> <span class="string">&#123; url &#x27;http://maven.aliyun.com/nexus/content/groups/public&#x27; &#125;  </span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line"><span class="attr">&#125;</span></span><br></pre></td></tr></table></figure>

<p>重新运行项目</p>
<h2 id="体验热加载"><a href="#体验热加载" class="headerlink" title="体验热加载"></a>体验热加载</h2><ol>
<li>打开文件<code>lib/main.dart</code></li>
<li>将字符串<br><code>&#39;You have pushed the button this many times:&#39;</code> 更改为<br><code>&#39;You have clicked the button this many times:&#39;</code></li>
<li>不要按“停止”按钮; 让您的应用继续运行.</li>
<li>要查看您的更改，请调用 <strong>Save</strong> (<code>cmd-s</code> &#x2F; <code>ctrl-s</code>), 或者点击 <strong>热重载按钮</strong> (带有闪电图标的按钮).</li>
</ol>
<p>当前体验热加载建议用编辑器启用，命令行启动时，命令行不是很能懂编辑器的保存操作。</p>
<blockquote>
<p>推荐</p>
<p><a target="_blank" rel="noopener" href="https://flutterchina.club/setup-linux/">CLUB</a>  </p>
<p><a target="_blank" rel="noopener" href="https://flutter.dev/docs/get-started/install/linux">DEV</a></p>
</blockquote>
<p>本文地址： <a href="https://github.com/maxzhao-it/blog/post/4508/">https://github.com/maxzhao-it/blog/post/4508/</a> </p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://github.com/maxzhao-it/blog/post/55831/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/uploads/images/avatar.jpg">
      <meta itemprop="name" content="赵联胜">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="maxzhao">
      <meta itemprop="description" content="小码农赵联胜的博客,从遇到Java到爱上Java，工作之余学习Java生态圈中的各种技术。">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | maxzhao">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/blog/post/55831/" class="post-title-link" itemprop="url">pacman常用命令</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2022-07-04 14:50:22" itemprop="dateModified" datetime="2022-07-04T14:50:22+08:00">2022-07-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Linux/ArchLinux/" itemprop="url" rel="index"><span itemprop="name">ArchLinux</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">pacman -Sy abc         #和源同步后安装名为abc的包</span><br><span class="line">pacman -S  abc         #从本地数据库中得到abc的信息，下载安装abc包</span><br><span class="line">pacman -Sf abc         #强制安装包abc</span><br><span class="line">pacman -Ss abc         #搜索有关abc信息的包</span><br><span class="line">pacman -Si abc         #从数据库中搜索包abc的信息</span><br><span class="line">pacman -Q             # 列出已经安装的软件包</span><br><span class="line">pacman -Q abc         # 检查 abc 软件包是否已经安装</span><br><span class="line">pacman -Qi abc         #列出已安装的包abc的详细信息</span><br><span class="line">pacman -Ql abc         # 列出abc软件包的所有文件</span><br><span class="line">pacman -Qo /path/to/abc # 列出abc文件所属的软件包</span><br><span class="line">pacman -Syu           #同步源，并更新系统</span><br><span class="line">pacman -Sy            #仅同步源</span><br><span class="line">pacman -Su            #更新系统</span><br><span class="line">pacman -R  abc         #删除abc包</span><br><span class="line">pacman -Rd abc        #强制删除被依赖的包</span><br><span class="line">pacman -Rc abc         #删除abc包和依赖abc的包</span><br><span class="line">pacman -Rsc abc        #删除abc包和abc依赖的包</span><br><span class="line">pacman -Sc            #清理/var/cache/pacman/pkg目录下的旧包</span><br><span class="line">pacman -Scc           #清除所有下载的包和数据库</span><br><span class="line">pacman -U  abc         #安装下载的abs包，或新编译的abc包</span><br><span class="line">pacman -Sd abc         #忽略依赖性问题，安装包abc</span><br><span class="line">pacman -Su --ignore foo   #升级时不升级包foo</span><br><span class="line">pacman -Sg abc         #查询abc这个包组包含的软件包</span><br></pre></td></tr></table></figure>



<p>本文地址： <a href="https://github.com/maxzhao-it/blog/post/55831/">https://github.com/maxzhao-it/blog/post/55831/</a> </p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://github.com/maxzhao-it/blog/post/29753/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/uploads/images/avatar.jpg">
      <meta itemprop="name" content="赵联胜">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="maxzhao">
      <meta itemprop="description" content="小码农赵联胜的博客,从遇到Java到爱上Java，工作之余学习Java生态圈中的各种技术。">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | maxzhao">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/blog/post/29753/" class="post-title-link" itemprop="url">SpringBoot+Security+JWT进阶：三、自定义认证测试</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2022-07-04 14:50:22" itemprop="dateModified" datetime="2022-07-04T14:50:22+08:00">2022-07-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/SpringBoot/" itemprop="url" rel="index"><span itemprop="name">SpringBoot</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/SpringBoot/Security/" itemprop="url" rel="index"><span itemprop="name">Security</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/SpringBoot/Security/JWT/" itemprop="url" rel="index"><span itemprop="name">JWT</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/SpringBoot/Security/JWT/Authentication/" itemprop="url" rel="index"><span itemprop="name">Authentication</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>不知不觉已经距离上次开发已经有11个月了，这11个月也不是没有学习，只不过项目太忙，学习的主要路径都在项目上。</p>
<p>阅读下文要了解</p>
<ul>
<li>java（。。。）</li>
<li><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/6e4371d74248">spring security一</a></li>
<li><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/6e4371d74248">jwt 基础</a></li>
<li>redis（不会也没关系，缓存用户用的）</li>
</ul>
<p>不会搭建的可以查看基础</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/6e4371d74248">SpringBoot+Security+JWT基础</a><br><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/64f840e0f818">SpringBoot+Security+JWT进阶：一、自定义认证</a><br><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/0dc9c452b40e">SpringBoot+Security+JWT进阶：二、自定义认证实践</a></p>
</blockquote>
<h2 id="一、登录测试一"><a href="#一、登录测试一" class="headerlink" title="一、登录测试一"></a>一、登录测试一</h2><h3 id="发起请求"><a href="#发起请求" class="headerlink" title="发起请求"></a>发起请求</h3><p>可以使用<code>postman</code>来测试</p>
<p>根据<code>.loginProcessingUrl(&quot;/auth/login&quot;)</code>设置的登录接口。</p>
<p>用户名<code>super.setUsernameParameter(GT_BOOT_FORM_USERNAME_KEY);</code>在这里设置过，</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1:8888/boot/auth/login</span><br><span class="line">body 选择 form-data</span><br><span class="line">loginName admin一</span><br><span class="line">password 1</span><br></pre></td></tr></table></figure>

<h3 id="请求经过的代码"><a href="#请求经过的代码" class="headerlink" title="请求经过的代码"></a>请求经过的代码</h3><h4 id="1、自定义的UsernamePasswordAuthenticationFilter实现类"><a href="#1、自定义的UsernamePasswordAuthenticationFilter实现类" class="headerlink" title="1、自定义的UsernamePasswordAuthenticationFilter实现类"></a>1、自定义的UsernamePasswordAuthenticationFilter实现类</h4><p>如果我们自定义了用户账号的验证，当前请求首先经过<code>attemptAuthentication</code>方法获取用户信息。</p>
<h4 id="2、自定义的AuthenticationProvider实现类"><a href="#2、自定义的AuthenticationProvider实现类" class="headerlink" title="2、自定义的AuthenticationProvider实现类"></a>2、自定义的AuthenticationProvider实现类</h4><p>我们在这里实现了<strong>自定义认证服务</strong>，<code>authenticate</code>方法做具体的认证操作。</p>
<h4 id="一3、userDetailsService实现类获取登录用户"><a href="#一3、userDetailsService实现类获取登录用户" class="headerlink" title="一3、userDetailsService实现类获取登录用户"></a>一3、userDetailsService实现类获取登录用户</h4><p>验证当前用户是否存在，如果不存在，则抛出<code>throw new UsernameNotFoundException(&quot;用户不存在&quot;);</code>异常，直接到<code>UsernamePasswordAuthenticationFilter.unsuccessfulAuthentication</code>处理当前异常，可以自定义返回信息。</p>
<p>验证通过后，会调用<code>createSuccessAuthentication</code>创建 <code>token</code> 。</p>
<p>然后回到</p>
<h4 id="4、自定义的UsernamePasswordAuthenticationFilter实现类"><a href="#4、自定义的UsernamePasswordAuthenticationFilter实现类" class="headerlink" title="4、自定义的UsernamePasswordAuthenticationFilter实现类"></a>4、自定义的UsernamePasswordAuthenticationFilter实现类</h4><p>的<code>successfulAuthentication</code>方法。</p>
<p>登录常用的路径就是这些。</p>
<h2 id="二、携带-token-的请求测试"><a href="#二、携带-token-的请求测试" class="headerlink" title="二、携带 token 的请求测试"></a>二、携带 token 的请求测试</h2><h3 id="发起请求-1"><a href="#发起请求-1" class="headerlink" title="发起请求"></a>发起请求</h3><h3 id="请求经过的代码-1"><a href="#请求经过的代码-1" class="headerlink" title="请求经过的代码"></a>请求经过的代码</h3><h4 id="BasicAuthenticationFilter-doFilterInternal过滤器"><a href="#BasicAuthenticationFilter-doFilterInternal过滤器" class="headerlink" title="BasicAuthenticationFilter.doFilterInternal过滤器"></a>BasicAuthenticationFilter.doFilterInternal过滤器</h4><p>可以获取token中的用户信息</p>
<h4 id="AuthenticationEntryPoint-commence验证失败"><a href="#AuthenticationEntryPoint-commence验证失败" class="headerlink" title="AuthenticationEntryPoint.commence验证失败"></a>AuthenticationEntryPoint.commence验证失败</h4><p>403禁止访问错误会进入当前端点。</p>
<p>验证成功后就直接访问到接口了。</p>
<p>到这里一个基本的验证就结束了，后续还可以给用户信息添加<code>redis</code>或<code>session</code>缓存，部署集群要做<code>session</code>共享;分布式要做<code>rpc</code>;访问不同数据库（一般作为服务来访问，不需要访问多数据库）。</p>
<blockquote>
<p>推荐<br><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/6e4371d74248">SpringBoot+Security+JWT基础</a><br><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/64f840e0f818">SpringBoot+Security+JWT进阶：一、自定义认证</a><br><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/0dc9c452b40e">SpringBoot+Security+JWT进阶：二、自定义认证实践</a><br><a target="_blank" rel="noopener" href="https://gitee.com/zhaoliansheng/gtboot-multidatasource">gitee多数据源</a><br><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/c1f87b0dd597">IDEA好用的插件</a></p>
</blockquote>
<p>本文地址： <a href="https://github.com/maxzhao-it/blog/post/29753/">https://github.com/maxzhao-it/blog/post/29753/</a> </p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/blog/page/19/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/blog/">1</a><span class="space">&hellip;</span><a class="page-number" href="/blog/page/19/">19</a><span class="page-number current">20</span><a class="page-number" href="/blog/page/21/">21</a><span class="space">&hellip;</span><a class="page-number" href="/blog/page/34/">34</a><a class="extend next" rel="next" href="/blog/page/21/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">赵联胜</span>
</div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/blog/js/comments.js"></script><script src="/blog/js/utils.js"></script><script src="/blog/js/motion.js"></script><script src="/blog/js/next-boot.js"></script>

  
<script src="https://cdn.jsdelivr.net/npm/hexo-generator-searchdb@1.4.0/dist/search.js" integrity="sha256-vXZMYLEqsROAXkEw93GGIvaB2ab+QW6w3+1ahD9nXXA=" crossorigin="anonymous"></script>
<script src="/blog/js/third-party/search/local-search.js"></script>




  <script src="/blog/js/third-party/pace.js"></script>

  





</body>
</html>
